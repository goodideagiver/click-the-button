const e=String.fromCharCode(Math.floor(26*Math.random())+97),t=e=>{throw new Error(e)};class n extends HTMLElement{#e=1500;#t;#n='\n  <div id="alert-wrapper">\n        <main id="alert-box">\n          <slot></slot>\n        </main>\n    </div>\n  ';constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML="\n<style>\n      @keyframes show {\n        from {\n          transform: translate(-50%, 0) scale(0.1);\n          opacity:0;\n        }\n        to {\n          opacity:1;\n          transform: translate(-50%, 0);\n        }\n      }\n      * {\n        box-sizing: border-box;        \n      }\n      #alert-wrapper {\n        pointer-events: fill;\n        cursor: wait;\n        position: fixed;\n        width: 100%;\n        height: 100%;\n        z-index: 100;\n        opacity: 1;\n        transition: 0.5s;\n        background-color: rgba(0, 0, 0, 0.5);\n        top: 0;\n        left: 0;\n\n    \n      }\n      #alert-box {\n        position: fixed;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, 0);\n\n        box-shadow: rgba(99, 99, 99, 0.2) 0px 2px 8px 0px;        \n        animation: show 0.3s;\n        padding: 1rem;\n        border: 2px red solid;\n        width: min(90%,500px,fit-content);\n        text-align: center;\n        background: white;\n        border-radius: 5px;\n      }\n    \n    </style>"+this.#n,this.#t=this.shadowRoot.querySelector("#alert-wrapper")}connectedCallback(){setTimeout((()=>{this.removeAlert()}),this.#e)}removeAlert(){setTimeout((()=>{this.#t.style.opacity="0",setTimeout((()=>{this.remove()}),this.#e)}),this.#e)}}customElements.define("custom-alert",n);var a=e=>{const t=document.createElement("custom-alert");t.textContent=e,document.body.appendChild(t)};const o=()=>{const e=(()=>{const e=localStorage.getItem("tries");if(null===e)return localStorage.setItem("tries",1),1;{const t=parseInt(e)+1;return localStorage.setItem("tries",t),t}})(),t=document.querySelector(".hidden"),n=document.getElementById("tries");e>=0&&(t&&t.classList.contains("hidden")&&t.classList.remove("hidden"),n.innerText=e)},s=()=>{const e=localStorage.getItem("tries")||0;var t;a(`You have succesfully logged in! You did it in ${e} ${t=e,1===parseInt(t)?"try":"tries"}!`),setTimeout((()=>{a("Now you can click the button")}),3500)},r=()=>{s(),u(),localStorage.setItem("tries","0"),l()},c=n=>{n.preventDefault();const s=n.target,c=new FormData(s),i=c.get("name"),l=c.get("password");o();try{(e=>{e.length<3&&t("Name must be at least 3 characters long"),e.length>20&&t("Name must be less than 20 characters long")})(i),(n=>{Math.random()<.3&&t("This is a random password error and it had 30% chance of happening"),n.length<8&&t("Password must be at least 8 characters long"),n.length>20&&t("Password must be less than 20 characters long"),-1===n.search(/[a-z]/)&&t("Password must contain at least one lowercase letter"),-1===n.search(/[A-Z]/)&&t("Password must contain at least one uppercase letter"),-1===n.search(/[0-9]/)&&t("Password must contain at least one number"),-1===n.search(/[^a-zA-Z0-9]/)&&t("Password must contain at least one special character"),-1===n.search("~")&&t("Password must contain the tilde character"),-1===n.search("â‚¬")&&t("Password must contain at least one euro sign. Tip: alt code 0128"),-1===n.search(" ")&&t("Password must contain at least one space"),-1===n.search("2137")&&t("Password must contain the number 2137"),-1!==n.search(/(.)\1/)&&t("Password cannot contain two same characters in a row"),-1===n.search(e)&&t(`Password must contain at least one ${e}`)})(l),r()}catch(e){s.reset(),a(e.message)}},i=document.querySelector("#modal").content.cloneNode(!0),l=()=>{document.getElementById("modal-backdrop").remove()},d=document.getElementById("theButton"),m=document.getElementById("congratulations");let h=!1;d.addEventListener("click",(()=>{h?m.classList.remove("disabled"):(()=>{const e=i.cloneNode(!0);e.querySelector("form").addEventListener("submit",c),document.body.appendChild(e)})()}));const u=()=>{h=!0};